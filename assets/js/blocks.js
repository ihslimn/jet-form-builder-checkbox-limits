(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n,r){var o;return o=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n),(n="symbol"==e(o)?o:String(o))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var n="jfb_checkbox_limits_enabled",r="jfb_checkbox_limits_min",o="jfb_checkbox_limits_min_message",l="jfb_checkbox_limits_max",i="jfb_checkbox_limits_max_message",c="jfb_checkbox_limits_block_options",a=t(t({},"jet-forms/checkbox-field","all"),"jet-forms/select-field","multiple");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){var r;return r=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==m(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function s(e,t,n){var r;return r=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==f(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=wp.hooks.addFilter,d=wp.compose.createHigherOrderComponent,h=wp.blockEditor.InspectorControls,w=wp.components,v=w.TextControl,g=w.ToggleControl,E=w.Panel,j=w.PanelRow,S=w.PanelBody,k=w.__experimentalNumberControl,O=d((function(e){return function(t){var m=t.name,u=a[m]||!1;if(!u)return wp.element.createElement(e,t);var b=t.attributes,p=t.setAttributes,f=t.isSelected;return"all"===u||b[u]?wp.element.createElement(React.Fragment,null,wp.element.createElement(e,t),f&&wp.element.createElement(h,null,wp.element.createElement(E,null,wp.element.createElement(S,{title:"Checkbox limits",initialOpen:!1},wp.element.createElement(j,null,wp.element.createElement(g,{label:"Enable",help:b[n]?"Enabled.":"Disabled.",checked:b[n],onChange:function(){p(s({},n,!b[n]))}})),b[n]&&wp.element.createElement(j,null,wp.element.createElement(k,{label:"Minimum selected options",help:"0 for unlimited",value:b[r],min:"0",onChange:function(e){p(s({},r,e))}})),b[n]&&wp.element.createElement(j,null,wp.element.createElement(k,{label:"Maximum selected options",help:"0 for unlimited",value:b[l],min:"0",onChange:function(e){p(s({},l,e))}})),b[n]&&b[l]>0&&wp.element.createElement(j,null,wp.element.createElement(g,{label:"Block options when max limit reached",help:b[c]?"Enabled.":"Disabled.",checked:b[c],onChange:function(){p(s({},c,!b[c]))}})),b[n]&&b[r]>0&&wp.element.createElement(j,null,wp.element.createElement(v,{label:"Error message for min",help:"",value:b[o],onChange:function(e){p(s({},o,e))}})),b[n]&&b[l]>0&&!b[c]&&wp.element.createElement(j,null,wp.element.createElement(v,{label:"Error message for max",help:"",value:b[i],onChange:function(e){p(s({},i,e))}})))))):wp.element.createElement(e,t)}}),"addControls");y("editor.BlockEdit","jfb-select-all-options/editor-controls",O),(0,wp.hooks.addFilter)("blocks.registerBlockType","jfb-checkbox-limits/block-attributes",(function(e,t){return a[t]?(e.attributes=b(b({},e.attributes),{},p(p(p(p(p(p({},n,{type:"boolean",default:!1}),r,{type:"string",default:"0"}),o,{type:"string",default:"Check at least %this(minCheckedOptions)% options(s)"}),l,{type:"string",default:"0"}),c,{type:"boolean",default:!1}),i,{type:"string",default:"Check no more than %this(maxCheckedOptions)% options(s)"})),e):e}))})();